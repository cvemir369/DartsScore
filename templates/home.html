{% extends 'base.html' %}
{% load static %}
{% block content %}
<p>Last login: {{ user.socialaccount_set.all.0.last_login|date:'d.m.Y. H:i'}}</p>
<h1>Welcome to Darts Score</h1>
<img src="{% static 'images/darts.png' %}" alt="Darts">

{% if games_count %}
    <p><button><a href="{% url 'game_create' %}">Create new game</a></button> <button><a href="{% url 'players' %}">Players</a></button></p>
    <h2>Active Games:</h2>
    <ul>
        {% for game in games %}
            <li>
                <a href="{% url 'play' uuid=game.uuid %}">
                    {{ game.get_game_type_display }}: {% for player in game.players.all %}{% if not forloop.last %}{{ player }} vs {% else %}{{ player }}{% endif %}{% endfor %}</a>, modified on {{game.time_modified|date:'d.m.Y. H:i'}}
            </li>
        {% endfor %}
    </ul>
{% elif players_count == 0 %}
    <p>You don't have any players added yet. Create them now.</p>
    <button><a href="{% url 'players_create' %}">Create new player</a></button>
{% elif players_count == 1 %}
    <p>You have only one player. Create another one.</p>
    <button><a href="{% url 'players_create' %}">Create new player</a></button>
{% else %}
    <p>You don't have any games yet. Create one now.</p>
    <button><a href="{% url 'game_create' %}">Create new game</a></button>
{% endif %}

    
{% endblock content %}